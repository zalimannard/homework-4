<div class="myWrapper" align="center" markdown="1">

# :books: Моделирование операций, Задание №5

</div>

## :mortar_board: Формулировка задания

Решите задачу о контейнере (рюкзаке, ранце) – методом динамического программирования

## :scroll: Входные данные

В 4 тонный загружают предметы трех наименований. Приведенная ниже таблица содержит данные о весе одного предмета wi (в тоннах) и прибыли ri в тыс. долларах), получаемой от одного загруженного предмета. Как необходимо загрузить самолет, чтобы получить максимальную прибыль?

| Предмет i | wi | ri |
| - | - | - |
| 1 | 1 | 30 |
| 2 | 2 | 60 |
| 3 | 3 | 80 |

## :computer: Сборка и запуск

Для запуска потребуется `java 17` и выше и `gradle` к ней.

```shell
git clone https://github.com/zalimannard/homework-4
cd homework-4/simulation-of-operations/lab-5
gradle build
cd build/libs
java -jar lab-5-1.0-SNAPSHOT.jar
```

## :movie_camera: Ход работы

### 1. Создание таблички

Табличка в высоту должна быть на 1 больше вместимости рюкзака. Каждый столбец, по факту, отдельный случаи рюкзака с вместимостью равной номеру столбца. Больше на 1 чтобы был первый столбец из нулей

Количество строк на 1 больше количества предметов. Опять же, первая строка из нулей.

Нули нужны для того, чтобы для крайних значений было куда идти вместо выбивания IndexOutOfBounds

### 2. Вычисляем результат

Каждую клетку заполняем:

- Если первая строка или столбец, то 0.
- Если при прибавлении веса в рюкзак он переполняется, то берём значение со строки выше этого же столбца.
- Если можем добавить вес, то в ячейку ставим максимум из: 1) Ячейки выше 2) Ячейки левее + цена добавленного элемента

Ответ будет в самой правой-нижней ячейке

### 3. Находим дорогу

Пока не наткнулись на 0 в таблице идём обратным ходом:

- Если объект весит больше, чем всего рюкзак, то его там нет, поднимаемся на 1 выше
- Если добавление веса выше было выгоднее, то переходим наверх
- Если нет, то налево на величину равную весу элемента

### Результат

Пример заполнения таблички на моём примере:

| 0 | 0 | 0 | 0 | 0 |
| - | - | - | - | - |
| 0 | 30 | 60 | 90 | 120 |
| 0 | 30 | 60 | 90 | 120 |
| 0 | 30 | 60 | 90 | 120 |

Оптимальный выбор:

1 - 0 штук

2 - 2 штуки

3 - 0 штук

Итого 120 денег

## :ocean: Материалы

[Algorithmica. Динамическое программирование — рюкзак, НВП, НОП](https://algorithmica.org/tg/knapsack-gis-gcs) - лучшее, что нашёл. В задаче неограниченное число предметов, здесь рассматривается. Нахождение пути назад тоже. Лучше смотреть вместе с Хабром из следующего пункта

[Хабр. Задача о рюкзаке (Knapsack problem) простыми словами.](https://habr.com/ru/users/Sm1le291/posts/) - просто написано, но только этого мало для задания.

[YouTube видео для Stepik](https://www.youtube.com/watch?v=14TkOrj0onU) - другое объяснение. Мне не понравилось, но объяснил понятно. Примерно как на Хабре понимание.
